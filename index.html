<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-test/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/26/test/index/" class="article-date">
  <time class="dt-published" datetime="2021-09-26T13:28:27.144Z" itemprop="datePublished">2021-09-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        * {
    margin: 0 auto;
    padding: 0;
    box-sizing: border-box;
}

body {
    background-color: skyblue;
}

.header {
    display: flex;
    font-size: 30px;
    justify-content: space-between;
}

.startBtn {
    margin-top: 30px;
    font-size: 30px;
    color: white;
    float: right;
    background-color: pink;
    margin-right: 00px;
    border-radius: 10px;
}

.pauseBtn {
    margin-top: 30px;
    font-size: 30px;
    color: white;
    display: inline;
    float: right;
    margin-right: 400px;
    /* margin-right: 0px; */
    background-color: pink;
    border-radius: 10px;
}

.score {
    margin-top: 30px;
    background-color: pink;
    color: white;
    font-size: 30px;
    float: left;
    margin-left: 330px;
}

.map {
    width: 900px;
    margin: 0 auto;
    height: auto;
    display: flex;
    flex-wrap: wrap;
    margin-top: 20px;
    opacity: 0.4;
    border-right: 1px solid #ccc;
    border-bottom: 1px solid #ccc;
    box-sizing: content-box;
}

.mapItem {
    border-left: 1px solid #ccc;
    border-top: 1px solid #ccc;
    background-color: #333;
}

.snake {
    background-color: yellow;
}

.mapItem.food:before {
    width: 100%;
    height: 100%;
    content: "";
    display: block;
    background: yellow;
    animation: food 1s alternate infinite;
    box-shadow: 0 0 10px #ffffcc;
}

@keyframes food {
    from {
        transform: scale(1) rotate(0deg);
    }
    to {
        transform: scale(0.5) rotate(360deg);
    }
}
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/26/test/index/" data-id="cku19cnb20005covbgitvfeay" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-test/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/26/test/index/" class="article-date">
  <time class="dt-published" datetime="2021-09-26T13:28:22.771Z" itemprop="datePublished">2021-09-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        var html = document.querySelector('html')

// 获取map对象
var mapDiv = document.querySelector('.map')
    //获取得分
var scoreSpan = document.querySelector('.scoreNum')
    // var snake = [{1,1},{2,1},{3,1}]
var snakeList = []
var startBtn = document.querySelector('.startBtn')
var pauseBtn = document.querySelector('.pauseBtn')
var intervalGameId = 0
var direction = {
    x: -1,
    y: 0
}

//设置得分
var score = 0;


var mapSizeX = 30;;
var mapSizeY = 30

function renderMap(x, y) {
    mapSizeX = x;
    mapSizeY = y;
    var size = 900 / x;
    for (var i = 0; i < y; i++) {
        for (var j = 0; j < x; j++) {
            var newDiv = document.createElement('div')
            newDiv.className = 'mapItem'
            newDiv.id = 'x' + j + 'y' + i;
            newDiv.style.width = size + 'px'
            newDiv.style.height = size + 'px'
            mapDiv.appendChild(newDiv)
        }
    }
}

function randomSnake(start, end) {
    //随机出蛇头的位置
    x = parseInt(Math.random() * (end - start)) + start;
    y = parseInt(Math.random() * (end - start)) + start;
    snakeList.push({ x: x, y: y })
    snakeList.push({ x: (x + 1), y: y })
    snakeList.push({ x: (x + 2), y: y })
}

//根据蛇的数组，渲染到map对象上
function renderSnake() {
    snakeList.forEach(function(item, index) {
        //通过坐标拼凑出id选择器
        try {
            var selector = '#x' + item.x + 'y' + item.y;
            var snakeDiv = document.querySelector(selector)
            snakeDiv.className = "mapItem snake"
        } catch (e) {
            console.log(e);
        }

    })
}

function renderFood() {
    do {
        x = parseInt(Math.random() * mapSizeX)
        y = parseInt(Math.random() * mapSizeY)
        var selector = '#x' + x + 'y' + y;
        var foodDiv = document.querySelector(selector);
    } while (foodDiv.className != 'mapItem')
    //随机出食物的坐标
    foodDiv.className = 'mapItem food'


}

function isFood(x, y) {
    // x = parseInt(Math.random() * mapSizeX)
    // y = parseInt(Math.random() * mapSizeY)
    var selector = '#x' + x + 'y' + y;
    var foodDiv = document.querySelector(selector);
    if (foodDiv.className == 'mapItem food') {
        return true;
    } else {
        return false;
    }
}


function isSnakeBody(x, y) {
    var selector = '#x' + x + 'y' + y;
    var foodDiv = document.querySelector(selector);
    if (foodDiv.className == 'mapItem snake') {
        return true;
    } else {
        return false;
    }
}






renderMap(30, 20)

randomSnake(10, 20)
renderSnake()

startBtn.onclick = function() {
        renderFood();
        intervalGameId = setInterval(function() {

            var x = snakeList[0].x + direction.x
            if (x > mapSizeX - 1) {
                x = 0;
            }
            if (x < 0) {
                x = mapSizeX - 1
            }
            var y = snakeList[0].y + direction.y
            if (y > mapSizeY - 1) {
                y = 0;
            }
            if (y < 0) {
                y = mapSizeY - 1
            }
            var snakeHeader = { x: x, y: y }

            if (isFood(snakeHeader.x, snakeHeader.y)) {
                var selector = '#x' + snakeHeader.x + 'y' + snakeHeader.y;
                var newDiv = document.querySelector(selector);
                newDiv.className = 'mapItem'
                snakeList.unshift(snakeHeader)
                score++;
                scoreSpan.innerHTML = score
                renderFood()
            } else if (isSnakeBody(snakeHeader.x, snakeHeader.y)) {
                alert("游戏结束")
                clearInterval(intervalGameId)
            } else {
                snakeList.unshift(snakeHeader)
                    //删除蛇尾
                var delsnakeFooter = snakeList.pop()
                    //将蛇尾恢复成正常样子
                var selector = '#x' + delsnakeFooter.x + 'y' + delsnakeFooter.y
                var delDiv = document.querySelector(selector)
                delDiv.className = 'mapItem'
            }



            renderSnake()
        }, 30)
    }
    // setInterval(() => {
    //     renderFood()
    // }, 5000);

html.onkeydown = function(e) {
    if (e.key == 'ArrowRight' && direction.x != -1) {
        direction = { x: 1, y: 0 }
    }
    if (e.key == 'ArrowLeft' && direction.x != 1) {
        direction = { x: -1, y: 0 }
    }
    if (e.key == 'ArrowDown' && direction.y != -1) {
        direction = { x: 0, y: 1 }
    }
    if (e.key == 'ArrowUp' && direction.y != 1) {
        direction = { x: 0, y: -1 }
    }
}

pauseBtn.onclick = function() {
    clearInterval(intervalGameId)
}
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/26/test/index/" data-id="cku19cnb50008covbdkskavle" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-test/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/26/test/index/" class="article-date">
  <time class="dt-published" datetime="2021-09-26T13:21:57.253Z" itemprop="datePublished">2021-09-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./index.css">
    <title>Document</title>
</head>

<body>
    <div class="header">
        <div class="score">得分：<span class="scoreNum" style="width: 30px;height: 30px;background-color: pink;">0</span></div>
        <button class="startBtn">开始游戏</button><button class="pauseBtn">暂停游戏</button>
    </div>
    <div class="map"></div>
    <script src="./index.js"></script>
</body>

</html>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/26/test/index/" data-id="cku19cnb40007covb5cu1ap8c" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-test" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/26/test/" class="article-date">
  <time class="dt-published" datetime="2021-09-26T13:11:49.000Z" itemprop="datePublished">2021-09-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/26/test/">test</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>..</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/26/test/" data-id="cku19cnb30006covbh1h9cqbl" data-title="test" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-photo" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/26/photo/" class="article-date">
  <time class="dt-published" datetime="2021-09-26T11:43:30.000Z" itemprop="datePublished">2021-09-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/26/photo/">photo</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="/2021/09/26/photo/hexo\source_posts\photo" alt="图1"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/26/photo/" data-id="cku19cnb10003covb2qnha6kx" data-title="photo" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-1-1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/25/1-1/" class="article-date">
  <time class="dt-published" datetime="2021-09-25T14:05:22.000Z" itemprop="datePublished">2021-09-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/25/1-1/">1</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/25/1-1/" data-id="cku19cnax0001covb6sw917h2" data-title="1" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/25/1/" class="article-date">
  <time class="dt-published" datetime="2021-09-25T13:49:24.000Z" itemprop="datePublished">2021-09-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/25/1/">1</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/25/1/" data-id="cku19cnat0000covbeal69zjj" data-title="1" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-l" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/25/l/" class="article-date">
  <time class="dt-published" datetime="2021-09-25T13:47:50.000Z" itemprop="datePublished">2021-09-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/25/l/">l</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/25/l/" data-id="cku19cnb00002covb9qfg0p9e" data-title="l" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/25/hello-world/" class="article-date">
  <time class="dt-published" datetime="2021-09-25T12:56:41.970Z" itemprop="datePublished">2021-09-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/25/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/25/hello-world/" data-id="cku19cnb20004covb6m585sy1" data-title="Hello World" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/09/26/test/index/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/09/26/test/index/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/09/26/test/index/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/09/26/test/">test</a>
          </li>
        
          <li>
            <a href="/2021/09/26/photo/">photo</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>